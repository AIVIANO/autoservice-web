# Autoservice Backend (API)

Backend API для системы управления автосервисом: клиенты, автомобили, записи (booking), заказ-наряды (work order), работы/материалы, оплата и аудит действий.

## Стек
- Node.js (Express)
- PostgreSQL
- Postman (тестирование API)
- Docker / docker-compose (планируется для запуска “с нуля”)

## Функциональность (реализовано)
- Клиенты: создание, получение списка/карточки
- Автомобили: привязка к клиенту
- Запись (Booking): создание и подтверждение
- Заказ-наряд (Work Order): создание из записи, смена статуса
- Позиции работ (Work Items): добавление работ и перерасчёт итогов
- Материалы (Material Items): добавление материалов и перерасчёт итогов
- Оплата: регистрация оплаты и фиксация статуса платежа
- Полная выдача по заказ-наряду: work_order + work_items + material_items + payments + audit_log

## Требования
- Node.js 18+ (или 20+)
- PostgreSQL 14+
- npm

## Настройка окружения
В проекте есть пример файла переменных окружения:

1) Скопируй `.env.example` в `.env`  
2) Заполни значения (под свою БД)

Пример (ориентир, точные ключи смотри в `.env.example`):
- `PORT=3000`
- `DATABASE_URL=postgres://user:password@localhost:5432/autoservice`

## Запуск локально (без Docker)
1) Установить зависимости:
```bash
npm install
